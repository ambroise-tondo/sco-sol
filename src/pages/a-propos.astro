---
import BaseLayout from "../layouts/BaseLayout.astro";
import "../styles/about.css";

/* Place ces images dans /public/images/
   - about-hero.jpg (grand visuel sombre)
   - about-split.jpg (photo chantier/atelier)
   - brand-forbo.svg, brand-gerflor.svg, brand-tarkett.svg, brand-amtico.svg, brand-bolon.svg
*/
const title = "À propos | Artisan poseur de sol à Bordeaux";
const description = "SCO Sol, spécialiste en revêtement souple (PVC, lino/linoléum, moquette). Artisan à Bordeaux – devis pose de sol rapide, rénovation intérieure et salles de bain.";
---
<BaseLayout {title} {description}>

  <!-- HERO PARALLAX -->
  <section class="parallax-hero" data-parallax-root data-speed="0.25">
    <img src="/images/about-hero.jpg" alt="Artisan poseur de sol à Bordeaux"
         class="parallax-media object-cover"
         onerror="this.onerror=null;this.src='/images/placeholder.jpg';" />
    <div class="parallax-overlay"></div>
    <div class="parallax-inner">
      <div class="content-narrow">
        <p class="uppercase tracking-widest text-white/70 text-xs">SCO Sol · Bordeaux & Nouvelle-Aquitaine</p>
        <h1 class="text-3xl md:text-5xl font-extrabold mt-2">L’exigence du détail, la passion du sol</h1>
        <p class="mt-3 text-white/80">
          Adaptabilité de chaque chantier · Réactivité d’intervention · Maîtrise des normes
        </p>
      </div>
    </div>
  </section>

  <!-- NOTRE HISTOIRE (split) -->
  <section class="container py-12 md:py-16">
    <div class="content-narrow split">
      <figure class="split-img">
        <img src="/images/about-split.jpg" alt="Chantier SCO Sol"
             class="w-full h-[280px] md:h-[380px] object-cover"
             onerror="this.onerror=null;this.src='/images/placeholder.jpg';" />
      </figure>
      <article class="split-txt">
        <h2 class="text-2xl md:text-3xl font-extrabold">Notre histoire</h2>
        <p class="mt-3 text-white/80">
          Basé à Ambarès et actif sur Bordeaux et toute la Nouvelle-Aquitaine, SCO Sol accompagne
          particuliers et pros pour la pose de sols souples : PVC, linoléum, moquette, zones humides et préparation de supports.
        </p>
        <p class="mt-3 text-white/80">
          Notre force : une intervention réactive, un conseil honnête, et des finitions propres respectant les normes. Nous intervenons en direct ou en appui d’un <strong>entrepreneur général</strong> dans le cadre d’un <strong>service rénovation</strong> ou d’une <strong>rénovation maison</strong>.
          Devis sous 24h, planning clair, suivi sérieux.
        </p>
        <div class="mt-5">
          <a href="/contact" class="inline-block px-4 py-2 text-sm font-semibold bg-brand text-white hover:bg-brand-600 transition">
            Discuter de votre projet
          </a>
        </div>
      </article>
    </div>
  </section>

  <!-- NOS VALEURS -->
  <section>
    <div class="container py-12 md:py-16">
      <div class="content-narrow">
        <h2 class="text-2xl md:text-3xl font-extrabold text-center">Nos valeurs</h2>
        <p class="text-center text-white/70 mt-2">Trois repères simples, appliqués sur chaque chantier.</p>

        <div class="grid md:grid-cols-3 gap-6 mt-10">
          <!-- Adaptabilité -->
          <div class="value-card">
            <div class="value-icon">
              <!-- icon wrench -->
              <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-width="1.5" d="M14 7l3 3m0 0l-6.5 6.5a2.121 2.121 0 01-3 0l-1-1a2.121 2.121 0 010-3L13 6l4 4z"/>
              </svg>
            </div>
            <h3 class="font-semibold">Adaptabilité</h3>
            <p class="text-sm text-white/70 mt-2">Chaque sol a ses contraintes : nous ajustons le matériau et la méthode à votre usage.</p>
          </div>

          <!-- Réactivité -->
          <div class="value-card">
            <div class="value-icon">
              <!-- icon clock -->
              <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="9" stroke-width="1.5"/>
                <path d="M12 7v5l3 2" stroke-width="1.5" stroke-linecap="round"/>
              </svg>
            </div>
            <h3 class="font-semibold">Réactivité</h3>
            <p class="text-sm text-white/70 mt-2">Devis sous 24h, interventions planifiées rapidement selon votre planning.</p>
          </div>

          <!-- Maîtrise des normes -->
          <div class="value-card">
            <div class="value-icon">
              <!-- icon shield check -->
              <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M12 3l7 3v6c0 5-3.5 7.5-7 9-3.5-1.5-7-4-7-9V6l7-3z" stroke-width="1.5"/>
                <path d="M9 12l2 2 4-4" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <h3 class="font-semibold">Maîtrise des normes</h3>
            <p class="text-sm text-white/70 mt-2">Étanchéité, zones humides, sécurité : on pose durablement, sans compromis.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ENGAGEMENTS QUALITÉ -->
  <section class="container py-12 md:py-16">
    <div class="content-narrow grid gap-4">
      <h2 class="text-2xl md:text-3xl font-extrabold text-center">Nos engagements</h2>
      <p class="text-center text-white/70">Des garanties claires pour vous rassurer.</p>

      <div class="flex flex-wrap justify-center gap-3 mt-6">
        <span class="badge">
          <!-- shield -->
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path d="M12 3l7 3v6c0 5-3.5 7.5-7 9-3.5-1.5-7-4-7-9V6l7-3z" stroke-width="1.5"/>
          </svg>
          Garantie décennale
        </span>
        <span class="badge">
          <!-- check -->
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path d="M5 13l4 4L19 7" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Matériaux pros 
        </span>
        <span class="badge">
          <!-- droplet -->
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path d="M12 2s7 7 7 12a7 7 0 1 1-14 0c0-5 7-12 7-12z" stroke-width="1.5"/>
          </svg>
          Système douche
        </span>
        <span class="badge">
          <!-- sparkles -->
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path d="M12 3l2 5 5 2-5 2-2 5-2-5-5-2 5-2 2-5z" stroke-width="1.5"/>
          </svg>
          Chantier propre & finitions soignées
        </span>
      </div>
    </div>
  </section>

  <!-- PARTENAIRES / MARQUES -->
  <section>
    <div class="container py-12 md:py-16">
      <div class="content-narrow">
        <h2 class="text-2xl md:text-3xl font-extrabold text-center">Partenaires & matériaux</h2>
        <p class="text-center text-white/70 mt-2">Quelques marques que nous posons régulièrement.</p>

        <div class="grid grid-cols-1 sm:grid-cols-2 gap-8 mt-8 place-items-center">
          <div class="brand-tile">
            <img src="/images/dezongle.png" alt="Dezongle" onerror="this.onerror=null;this.src='';" />
          </div>
          <div class="brand-tile">
            <img src="/images/martin-sol.jpg" alt="Martin Sol" onerror="this.onerror=null;this.src='';" />
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA FINAL -->
  <section class="container py-12 md:py-16">
    <div class="content-narrow">
      <div class="cta">
        <img src="/images/about-hero.jpg" alt="" class="cta-media"
             onerror="this.onerror=null;this.src='/images/placeholder.jpg';" />
        <div class="cta-content">
          <h3 class="text-2xl md:text-3xl font-extrabold">Un projet de sol ?</h3>
          <p class="text-white/80 max-w-2xl">Expliquez-nous votre besoin (surface, pièce, matériau). Devis gratuit sous 24h.</p>
          <div>
            <a href="/contact" class="inline-block px-5 py-3 font-semibold bg-brand text-white hover:bg-brand-600 rounded">
              Demander un devis
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Parallax léger (performant) -->
  <script is:inline>
    // Parallax : translateY en fonction du scroll, vitesse via data-speed
    const roots = document.querySelectorAll('[data-parallax-root]');
    const onScroll = () => {
      const y = window.scrollY || 0;
      roots.forEach(root => {
        const speed = Number(root.dataset.speed) || 0.2;
        const media = root.querySelector('.parallax-media');
        if (!media) return;
        // On translate l’image un peu vers le bas pour l’effet
        const offset = Math.round(y * speed);
        media.style.transform = `translate3d(0, ${offset}px, 0) scale(1.08)`;
      });
    };
    // throttle via rAF
    let rid; 
    const tick = () => { rid = null; onScroll(); };
    const schedule = () => { if (!rid) rid = requestAnimationFrame(tick); };
    window.addEventListener('scroll', schedule, { passive: true });
    window.addEventListener('resize', schedule);
    document.addEventListener('DOMContentLoaded', schedule);
    schedule();
  </script>
</BaseLayout>
